# PDP 페이지 구현 현황 보고서

## 📋 개요
시술 PDP와 병원 PDP 페이지의 레퍼런스 이미지 분석 결과 및 실제 구현 현황을 정리한 문서입니다.

---

## 1️⃣ 시술 PDP (Product Detail Page)

### 📸 레퍼런스 이미지 분석 결과

#### ✅ 구현 완료된 섹션

1. **상단 배너**
   - 메인 이미지 (2:1 비율)
   - 시술명 오버레이
   - 할인율 배지
   - **구현 상태**: ✅ 완료 (`main_image_url`, `dis_rate` 사용)

2. **시술명 및 평점**
   - 시술명 (큰 제목)
   - 별점 (9.4)
   - 리뷰 수 (1,361개)
   - Q&A 링크 (436개)
   - **구현 상태**: ✅ 완료 (`rating`, `review_count` 사용, Q&A는 추후 구현)

3. **가격 정보**
   - 판매가 (580,000원)
   - 원가 (취소선)
   - 할인율
   - VAT 정보
   - **구현 상태**: ✅ 완료 (`selling_price`, `original_price`, `dis_rate`, `vat_info` 사용)

4. **옵션 선택**
   - 현재 선택된 옵션 표시
   - 옵션 목록 (업그레이드Ver, 프리미엄 등)
   - 가격 비교
   - **구현 상태**: ✅ 완료 (같은 `treatment_name`의 다른 옵션들 표시)

5. **리뷰 섹션**
   - 별점 (9.4)
   - 리뷰 수 (1,361개)
   - **구현 상태**: ✅ 완료 (별점과 리뷰 수만 표시, 내용은 추후 구현)

6. **병원 정보**
   - 병원명
   - 평점 및 리뷰 수
   - 병원사례 수
   - 병원 상세 페이지로 이동 링크
   - **구현 상태**: ✅ 완료 (`hospital_name`, `rating`, `review_count` 사용, 병원 PDP 연결)

7. **시술 키워드**
   - 해시태그 형태로 표시
   - **구현 상태**: ✅ 완료 (`treatment_hashtags` 사용)

8. **하단 고정 버튼**
   - 별점 및 리뷰 수 표시
   - 찜하기 버튼 (하트 아이콘)
   - 문의하기 버튼 (말풍선 아이콘)
   - 일정에 추가 버튼
   - 문의하기 버튼 (주황색)
   - **구현 상태**: ✅ 완료 (레퍼런스 이미지와 동일한 레이아웃)

#### ⚠️ 구현 불가능한 섹션 (데이터 없음)

1. **병원사례 (Before/After 이미지)**
   - 시술 전/후 사진 그리드
   - "더 많은 후기 보기" 버튼
   - **구현 상태**: ❌ 데이터 없음 (`hospital_cases` 테이블/필드 없음)
   - **대안**: 추후 Supabase에 `hospital_cases` 테이블 추가 필요

2. **시술 설명**
   - 상세한 시술 설명 텍스트
   - **구현 상태**: ❌ 데이터 없음 (`procedure_description` 필드 없음)
   - **대안**: 추후 `treatment_master` 테이블에 `procedure_description` 컬럼 추가 필요

3. **이런 분에게 추천해요**
   - 추천 대상 목록 (불릿 포인트)
   - **구현 상태**: ❌ 데이터 없음 (`recommended_for` 필드 없음)
   - **대안**: 추후 `treatment_master` 테이블에 `recommended_for` 컬럼 추가 필요

4. **시술 과정 (단계별)**
   - 4단계 프로세스 (상담 → 계획 → 수술 → 사후관리)
   - 시술 소요 시간 (45분)
   - **구현 상태**: ⚠️ 부분 구현 (`surgery_time`은 있으나 단계별 설명 없음)
   - **현재**: 시술 시간만 표시 (`surgery_time` 사용)
   - **대안**: 추후 `procedure_steps` JSON 필드 추가 필요

5. **다운타임**
   - 회복 기간 (5일)
   - 회복 기간 설명 텍스트
   - **구현 상태**: ✅ 완료 (`downtime` 사용, `category_treattime_recovery` 테이블에서 상세 정보 가져옴)

6. **부작용 안내**
   - 부작용 경고 텍스트
   - **구현 상태**: ❌ 데이터 없음 (`side_effects` 필드 없음)
   - **대안**: 추후 `treatment_master` 테이블에 `side_effects` 컬럼 추가 필요

7. **의료진 프로필**
   - 의사 사진
   - 의사명 및 직책
   - 평점 및 Q&A 수
   - 가격 정보
   - **구현 상태**: ❌ 데이터 없음 (`hospital_doctors` 필드는 있으나 상세 정보 없음)
   - **대안**: 추후 `hospital_doctors` JSON 구조 개선 또는 별도 테이블 필요

8. **위치 및 오시는 길**
   - 지도 (네이버 지도)
   - 주소
   - 지하철역 정보
   - **구현 상태**: ⚠️ 부분 구현 (주소만 표시, 지도는 없음)
   - **현재**: `hospital_address`만 표시
   - **대안**: 추후 네이버 지도 API 연동 필요

9. **병원 사진**
   - 병원 내부 사진 슬라이더
   - **구현 상태**: ❌ 데이터 없음 (`hospital_images` 필드 없음)
   - **대안**: 추후 `hospital_master` 테이블에 `hospital_images` JSON 배열 필드 추가 필요

10. **Q&A 섹션**
    - 질문과 답변 목록
    - 질문하기 버튼
    - **구현 상태**: ❌ 데이터 없음 (`qa` 테이블/필드 없음)
    - **대안**: 추후 Supabase에 `qa` 테이블 추가 필요

11. **관련 이벤트**
    - "이 이벤트를 본 사람들이 함께 본 이벤트"
    - "이런 이벤트는 어때요?"
    - 관련 시술 카드들
    - **구현 상태**: ❌ 데이터 없음 (추천 알고리즘 및 관련 시술 데이터 없음)
    - **대안**: 추후 추천 알고리즘 구현 및 관련 시술 매핑 테이블 필요

---

## 2️⃣ 병원 PDP (Hospital Detail Page)

### 📸 레퍼런스 이미지 분석 결과

#### ✅ 구현 완료된 섹션

1. **상단 배너**
   - 병원 이미지 슬라이더 (4/11)
   - 병원 로고 및 시스템 소개
   - **구현 상태**: ⚠️ 부분 구현 (단일 이미지만 표시, 슬라이더 없음)
   - **현재**: `hospital_img` 사용
   - **대안**: 추후 `hospital_images` 배열 필드 추가 필요

2. **병원명 및 평점**
   - 병원명
   - 별점 (9.6)
   - 리뷰 수 (16,801개)
   - **구현 상태**: ✅ 완료 (`hospital_rating`, `review_count` 사용)

3. **위치 및 운영 시간 요약**
   - 주소
   - 운영 시간
   - **구현 상태**: ✅ 완료 (`hospital_address`, `opening_hours` 사용)

4. **병원 정보**
   - 주소 상세
   - 운영 시간
   - 진료과 목록
   - 병원 소개
   - **구현 상태**: ✅ 완료 (`hospital_address`, `opening_hours`, `hospital_departments`, `hospital_intro` 사용)

5. **제공 시술 목록**
   - 병원에서 제공하는 시술 목록
   - 시술별 가격
   - **구현 상태**: ✅ 완료 (`loadHospitalTreatments`로 같은 병원의 시술 목록 표시)

6. **리뷰 섹션**
   - 별점 (9.6)
   - 리뷰 수 (16,801개)
   - **구현 상태**: ✅ 완료 (별점과 리뷰 수만 표시, 내용은 추후 구현)

7. **하단 고정 버튼**
   - 찜하기 버튼
   - 후기 작성 버튼
   - 문의하기 버튼
   - **구현 상태**: ✅ 완료

#### ⚠️ 구현 불가능한 섹션 (데이터 없음)

1. **병원 운영 안내**
   - 운영 안내 드롭다운
   - **구현 상태**: ❌ 데이터 없음 (`hospital_operation_guide` 필드 없음)
   - **대안**: 추후 `hospital_master` 테이블에 `hospital_operation_guide` 컬럼 추가 필요

2. **주요 특징 아이콘**
   - 시술 후 관리
   - 의료진 실명 공개
   - 마취과 전문의 상주
   - 야간진료
   - **구현 상태**: ❌ 데이터 없음 (`hospital_features` 필드 없음)
   - **대안**: 추후 `hospital_master` 테이블에 `hospital_features` JSON 배열 필드 추가 필요

3. **소통 가능 언어**
   - 일본어, 영어 등
   - **구현 상태**: ❌ 데이터 없음 (`available_languages` 필드 없음)
   - **대안**: 추후 `hospital_master` 테이블에 `available_languages` 배열 필드 추가 필요

4. **탭 네비게이션**
   - 병원정보 / 이벤트 / 시술후기 / 병원사례
   - **구현 상태**: ❌ 미구현 (단일 페이지 구조)
   - **대안**: 추후 탭 구조로 리팩토링 필요

5. **인기 시술 목록 (후기가 많은 시술)**
   - 랭킹 순위
   - 시술명
   - 평점 및 리뷰 수
   - **구현 상태**: ⚠️ 부분 구현 (시술 목록은 있으나 랭킹 표시 없음)
   - **현재**: 시술 목록만 표시
   - **대안**: 리뷰 수 기준 정렬 및 랭킹 표시 추가 필요

6. **환자 만족도 통계**
   - 전체 만족도 (9.6)
   - 방문자 응답 수 (10,222명)
   - 공통 피드백 (안내받은 가격 그대로, 짧은 대기 시간 등)
   - **구현 상태**: ❌ 데이터 없음 (`patient_satisfaction` 통계 데이터 없음)
   - **대안**: 추후 리뷰 데이터 집계 또는 별도 통계 테이블 필요

7. **위치 상세 (지도)**
   - 네이버 지도
   - 주변 지하철역 정보
   - **구현 상태**: ⚠️ 부분 구현 (주소만 표시, 지도는 없음)
   - **현재**: `hospital_address`만 표시
   - **대안**: 추후 네이버 지도 API 연동 필요

8. **병원 특징 상세**
   - 각 특징별 상세 설명
   - **구현 상태**: ❌ 데이터 없음 (`hospital_features_detail` 필드 없음)
   - **대안**: 추후 `hospital_master` 테이블에 `hospital_features_detail` JSON 필드 추가 필요

9. **진료항목 태그**
   - 피부, 코성형, 눈성형 등 클릭 가능한 태그
   - **구현 상태**: ⚠️ 부분 구현 (`hospital_departments`는 있으나 태그 형태로 표시 안 함)
   - **현재**: 진료과를 태그 형태로 표시
   - **대안**: 클릭 가능한 태그로 개선 필요

10. **소속 의사 목록**
    - 의사 프로필 사진
    - 의사명 및 직책
    - 후기 수
    - 전문 분야 태그
    - **구현 상태**: ❌ 데이터 없음 (`hospital_doctors` 필드는 있으나 상세 정보 부족)
    - **대안**: 추후 `hospital_doctors` JSON 구조 개선 또는 별도 `doctors` 테이블 필요

11. **이벤트 탭**
    - 병원 이벤트 목록
    - **구현 상태**: ❌ 데이터 없음 (`hospital_events` 테이블/필드 없음)
    - **대안**: 추후 Supabase에 `hospital_events` 테이블 추가 필요

12. **시술후기 탭**
    - 시술별 후기 목록
    - **구현 상태**: ❌ 데이터 없음 (리뷰 내용 데이터 없음)
    - **대안**: 추후 `procedure_reviews` 테이블 데이터 활용 필요

13. **병원사례 탭**
    - Before/After 이미지
    - **구현 상태**: ❌ 데이터 없음 (`hospital_cases` 테이블/필드 없음)
    - **대안**: 추후 Supabase에 `hospital_cases` 테이블 추가 필요

---

## 📊 구현 현황 요약

### 시술 PDP
- **구현 완료**: 8개 섹션
- **부분 구현**: 1개 섹션 (시술 과정)
- **구현 불가**: 11개 섹션 (데이터 없음)

### 병원 PDP
- **구현 완료**: 7개 섹션
- **부분 구현**: 3개 섹션 (배너, 인기 시술, 위치)
- **구현 불가**: 13개 섹션 (데이터 없음)

---

## 🔧 추가 구현이 필요한 데이터 구조

### 시술 PDP용
1. `treatment_master` 테이블에 추가 필요:
   - `procedure_description` (TEXT) - 시술 설명
   - `recommended_for` (TEXT[]) - 추천 대상
   - `procedure_steps` (JSONB) - 시술 과정 단계
   - `side_effects` (TEXT) - 부작용 안내

2. 새 테이블 필요:
   - `hospital_cases` - 병원사례 (Before/After 이미지)
   - `qa` - Q&A 질문과 답변
   - `hospital_images` - 병원 내부 사진

3. 추천 알고리즘:
   - 관련 시술 추천 로직
   - "함께 본 이벤트" 데이터

### 병원 PDP용
1. `hospital_master` 테이블에 추가 필요:
   - `hospital_images` (TEXT[]) - 병원 사진 배열
   - `hospital_features` (JSONB) - 주요 특징
   - `hospital_features_detail` (JSONB) - 특징 상세 설명
   - `hospital_operation_guide` (TEXT) - 운영 안내
   - `available_languages` (TEXT[]) - 소통 가능 언어
   - `subway_stations` (TEXT[]) - 주변 지하철역

2. `hospital_doctors` JSON 구조 개선:
   - 의사 프로필 사진 URL
   - 의사명, 직책
   - 후기 수
   - 전문 분야

3. 새 테이블 필요:
   - `hospital_events` - 병원 이벤트
   - `hospital_cases` - 병원사례

4. 통계 데이터:
   - 환자 만족도 통계
   - 공통 피드백 데이터

---

## 📝 참고사항

- 현재 구현된 섹션들은 **사용 가능한 API 데이터만** 사용하여 구현했습니다.
- 데이터가 없는 섹션들은 추후 Supabase 테이블 구조 개선 후 구현 가능합니다.
- 리뷰 내용은 현재 별점과 리뷰 수만 표시하며, 추후 `procedure_reviews`, `hospital_reviews` 테이블 데이터를 활용할 예정입니다.

