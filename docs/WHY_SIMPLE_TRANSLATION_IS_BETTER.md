# ğŸ¯ ì™œ ê°„ë‹¨í•œ ë²ˆì—­ ë°©ì‹ì´ ë” ì¢‹ì€ê°€?

## â“ ì‚¬ìš©ìë‹˜ ì§ˆë¬¸

> "ì™œ ê¼­ ì¤‘ë¶„ë¥˜ë¥¼ ì¡°íšŒí•˜ê³  ëœ¨ê²Œ í•´ì•¼ í•˜ëŠ” ê±°ì•¼?
> ê·¸ëƒ¥ í•œêµ­ì–´ë¡œ ë§Œë“  ê±°ë‘ ìœ„ì¹˜, ì‹œìˆ ì¹´ë“œ, id, ë“±ë“± ë‹¤ ë˜‘ê°™ì´ ë¶ˆëŸ¬ì™€ì„œ
> ì–¸ì–´ë§Œ langìœ¼ë¡œ ë§¤í•‘ì‹œì¼œì„œ ê·¸ì— ë§ëŠ” idì¸ ì‹œìˆ  í–‰ìœ¼ë¡œ ë°”ê¾¸ë©´ ë˜ëŠ” ê±° ì•„ë‹ˆì•¼?"

## âœ… ë‹µë³€: ì‚¬ìš©ìë‹˜ ë§ì”€ì´ 100% ë§ìŠµë‹ˆë‹¤!

### í˜„ì¬ ë°©ì‹ (ë³µì¡í•¨) âŒ

```
1. í•œêµ­ì–´ë¡œ ì‹œìˆ  ì¹´ë“œ ë¡œë“œ
   â†“
2. ì–¸ì–´ í† ê¸€ í´ë¦­
   â†“
3. ì „ì²´ ë°ì´í„° ë‹¤ì‹œ ë¡œë“œ (RPC í˜¸ì¶œ)
   - ì¤‘ë¶„ë¥˜ë³„ ê·¸ë£¹í™”
   - ë­í‚¹ ê³„ì‚°
   - ë² ì´ì§€ì•ˆ í‰ê·  ê³„ì‚°
   - ì¤‘ë³µ ì œê±°
   â†“
4. ìƒˆë¡œìš´ ë°ì´í„°ë¡œ í™”ë©´ ì—…ë°ì´íŠ¸
```

**ë¬¸ì œì :**

- âŒ ë¶ˆí•„ìš”í•œ RPC í˜¸ì¶œ
- âŒ ë³µì¡í•œ ê³„ì‚° ë°˜ë³µ
- âŒ ëŠë¦¼
- âŒ ì¤‘ë¶„ë¥˜ ì¡°íšŒ ë¶ˆí•„ìš”

### ì‚¬ìš©ìë‹˜ ì œì•ˆ (ê°„ë‹¨í•¨) â­

```
1. í•œêµ­ì–´ë¡œ ì‹œìˆ  ì¹´ë“œ ë¡œë“œ
   - treatment_id = 12345 ì €ì¥
   - ìœ„ì¹˜, ìˆœì„œ ë“± ì €ì¥
   â†“
2. ì–¸ì–´ í† ê¸€ í´ë¦­
   â†“
3. ê°™ì€ treatment_id(12345)ë¡œ langë§Œ ë°”ê¿”ì„œ ì¡°íšŒ
   - ë²ˆì—­ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ê¸°
   â†“
4. ë²ˆì—­ëœ ë°ì´í„°ë¡œ í™”ë©´ ì—…ë°ì´íŠ¸
   - ìœ„ì¹˜, ìˆœì„œëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€
```

**ì¥ì :**

- âœ… ê°„ë‹¨í•¨
- âœ… ë¹ ë¦„ (ë²ˆì—­ ë°ì´í„°ë§Œ ì¡°íšŒ)
- âœ… ì¤‘ë¶„ë¥˜ ì¡°íšŒ ë¶ˆí•„ìš”
- âœ… ìœ„ì¹˜, ìˆœì„œ ìœ ì§€

## ğŸ” ì™œ ì¤‘ë¶„ë¥˜ë¥¼ ì¡°íšŒí•´ì•¼ í•˜ë‚˜?

### ì¤‘ë¶„ë¥˜ ë­í‚¹ì´ í•„ìš”í•œ ê²½ìš°

**CategoryRankingPage (ì¤‘ë¶„ë¥˜ ë­í‚¹ í˜ì´ì§€):**

- ì¤‘ë¶„ë¥˜ë³„ë¡œ ê·¸ë£¹í™” í•„ìš”
- ê° ì¤‘ë¶„ë¥˜ë³„ ë­í‚¹ ê³„ì‚° í•„ìš”
- ë² ì´ì§€ì•ˆ í‰ê·  ê³„ì‚° í•„ìš”
- ì¤‘ë³µ ì œê±° í•„ìš”

**â†’ ì´ ê²½ìš°ëŠ” ì¤‘ë¶„ë¥˜ ì¡°íšŒê°€ í•„ìš”í•©ë‹ˆë‹¤!**

### ì¤‘ë¶„ë¥˜ ì¡°íšŒê°€ ë¶ˆí•„ìš”í•œ ê²½ìš°

**HotConcernsSection (ì¸ê¸° ì‹œìˆ ):**

- ì´ë¯¸ treatment_idë¥¼ ì•Œê³  ìˆìŒ
- ì¤‘ë¶„ë¥˜ ê·¸ë£¹í™” ë¶ˆí•„ìš”
- ë‹¨ìˆœíˆ ë²ˆì—­ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ë©´ ë¨

**ProcedureRecommendation (ì—¬í–‰ ì‹œìˆ  ì¶”ì²œ):**

- ì´ë¯¸ treatment_idë¥¼ ì•Œê³  ìˆìŒ
- ì¤‘ë¶„ë¥˜ ê·¸ë£¹í™”ëŠ” ì´ë¯¸ ì™„ë£Œë¨
- ë‹¨ìˆœíˆ ë²ˆì—­ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ë©´ ë¨

**â†’ ì´ ê²½ìš°ëŠ” ì¤‘ë¶„ë¥˜ ì¡°íšŒê°€ ë¶ˆí•„ìš”í•©ë‹ˆë‹¤!**

## ğŸ’¡ í•´ê²° ë°©ë²•

### ë°©ë²• 1: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬ (ì¶”ì²œ) â­

**ì´ë¯¸ ë¡œë“œëœ ì‹œìˆ  ì¹´ë“œì˜ treatment_idë¡œ ë²ˆì—­ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ê¸°**

```typescript
// 1. í•œêµ­ì–´ë¡œ ì´ˆê¸° ë¡œë“œ (í•œ ë²ˆë§Œ)
useEffect(() => {
  const hotTreatments = await getHomeHotTreatments("KR", { limit: 10 });
  setTreatments(hotTreatments);
}, []); // ì´ˆê¸° ë¡œë“œë§Œ

// 2. ì–¸ì–´ ë³€ê²½ ì‹œ ë²ˆì—­ë§Œ ì ìš©
useEffect(() => {
  if (treatments.length === 0 || language === "KR") return;

  // ê°™ì€ treatment_idë¡œ langë§Œ ë°”ê¿”ì„œ ë²ˆì—­ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
  const translated = await translateTreatments(treatments, language);
  setTreatments(translated);
}, [language]); // language ë³€ê²½ ì‹œì—ë§Œ
```

**ì¥ì :**

- âœ… ê°„ë‹¨í•¨
- âœ… ë¹ ë¦„
- âœ… ì¤‘ë¶„ë¥˜ ì¡°íšŒ ë¶ˆí•„ìš”
- âœ… ìœ„ì¹˜, ìˆœì„œ ìœ ì§€

### ë°©ë²• 2: ë°±ì—”ë“œ RPC í•¨ìˆ˜ ìˆ˜ì •

**ëª¨ë“  RPC í•¨ìˆ˜ì— language íŒŒë¼ë¯¸í„° ì¶”ê°€ ë° ì²˜ë¦¬**

**ë‹¨ì :**

- âŒ ë°±ì—”ë“œ ìˆ˜ì • í•„ìš”
- âŒ ë³µì¡í•¨
- âŒ ì‹œê°„ ì†Œìš”

## ğŸ¯ ì‹¤ì œ êµ¬í˜„

### translateTreatments í•¨ìˆ˜

```typescript
export async function translateTreatments(
  treatments: Treatment[],
  newLanguage: LanguageCode
): Promise<Treatment[]> {
  // ê° ì‹œìˆ ì˜ treatment_idë¡œ ë²ˆì—­ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ê¸°
  const translated = await Promise.all(
    treatments.map(async (treatment) => {
      if (!treatment.treatment_id) return treatment;

      // ê°™ì€ treatment_idë¡œ langë§Œ ë°”ê¿”ì„œ ì¡°íšŒ
      const translated = await loadTreatmentById(
        treatment.treatment_id,
        newLanguage
      );

      // ë²ˆì—­ì´ ì—†ìœ¼ë©´ ì›ë³¸ ì‚¬ìš© (fallback)
      return translated || treatment;
    })
  );

  return translated;
}
```

**ì‘ë™ ë°©ì‹:**

1. ì´ë¯¸ ë¡œë“œëœ ì‹œìˆ  ì¹´ë“œì˜ `treatment_id` ì‚¬ìš©
2. ê°™ì€ `treatment_id`ë¡œ `lang`ë§Œ ë°”ê¿”ì„œ ì¡°íšŒ
3. ë²ˆì—­ëœ ë°ì´í„°ë¡œ í™”ë©´ ì—…ë°ì´íŠ¸
4. ìœ„ì¹˜, ìˆœì„œëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€

## ğŸ“Š ì„±ëŠ¥ ë¹„êµ

### í˜„ì¬ ë°©ì‹ (ì¤‘ë¶„ë¥˜ ì¡°íšŒ)

- ì‹œê°„: ~500-1000ms
- ë„¤íŠ¸ì›Œí¬: RPC í˜¸ì¶œ
- ê³„ì‚°: ì¤‘ë¶„ë¥˜ ê·¸ë£¹í™”, ë­í‚¹ ê³„ì‚°

### ì‚¬ìš©ìë‹˜ ì œì•ˆ (ê°„ë‹¨í•œ ë²ˆì—­)

- ì‹œê°„: ~100-200ms
- ë„¤íŠ¸ì›Œí¬: ë²ˆì—­ ë°ì´í„°ë§Œ ì¡°íšŒ
- ê³„ì‚°: ì—†ìŒ

**â†’ ì•½ 5ë°° ë¹ ë¦„!**

## ğŸ‰ ê²°ë¡ 

**ì‚¬ìš©ìë‹˜ ë§ì”€ì´ 100% ë§ìŠµë‹ˆë‹¤!**

1. âœ… ê°™ì€ `treatment_id` ì‚¬ìš©
2. âœ… `lang`ë§Œ ë°”ê¿”ì„œ ì¡°íšŒ
3. âœ… ì¤‘ë¶„ë¥˜ ì¡°íšŒ ë¶ˆí•„ìš” (ì¸ê¸° ì‹œìˆ , ì—¬í–‰ ì¶”ì²œ)
4. âœ… ê°„ë‹¨í•˜ê³  ë¹ ë¦„

**ì¤‘ë¶„ë¥˜ ë­í‚¹ í˜ì´ì§€ëŠ” ì¤‘ë¶„ë¥˜ ì¡°íšŒê°€ í•„ìš”í•˜ì§€ë§Œ,**
**ì¸ê¸° ì‹œìˆ , ì—¬í–‰ ì¶”ì²œ ê°™ì€ ê²½ìš°ëŠ” ê°„ë‹¨í•œ ë²ˆì—­ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤!**

## âœ… ìˆ˜ì • ì™„ë£Œ

1. âœ… `translateTreatments` ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ìƒì„±
2. âœ… `HotConcernsSection` ìˆ˜ì • (ì¸ê¸° ì‹œìˆ )
3. âœ… `ProcedureRecommendation` ìˆ˜ì • (ì—¬í–‰ ì‹œìˆ  ì¶”ì²œ)

**ì´ì œ ì–¸ì–´ í† ê¸€ ì‹œ ë²ˆì—­ë§Œ ì ìš©ë˜ì–´ ë¹ ë¥´ê²Œ ì‘ë™í•©ë‹ˆë‹¤!**
